<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dodge the Blocks</title>
  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <div class="wrap">
    <!-- LEFT: Game column -->
    <main class="game-col">
      <header class="topbar">
        <div class="pill stats">
          <div><strong>Score:</strong> <span id="score">0</span></div>
          <div><strong>Best:</strong> <span id="best">0</span></div>
          <div><strong>Stars:</strong> <span id="stars">0</span></div>

          <div class="inline">
            <strong>Difficulty:</strong>
            <select id="difficulty" aria-label="Difficulty">
              <option value="easy">Easy</option>
              <option value="normal" selected>Normal</option>
              <option value="hard">Hard</option>
            </select>
          </div>
        </div>

        <div class="pill help" aria-label="Controls help">
          Move: <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd>
          â€¢ Boost: <kbd>Shift</kbd>
          â€¢ Pause: <kbd>P</kbd>
          â€¢ Start: <kbd>Enter</kbd>/<kbd>Space</kbd>
          â€¢ Restart: <kbd>R</kbd>
          <span id="padStatus" class="pad-status">â€¢ Controller: Not connected</span>
        </div>
      </header>

      <section class="game-stage" id="gameStage" aria-label="Game">
        <canvas id="game" width="900" height="520"></canvas>

        <!-- START OVERLAY -->
        <div id="startUi" class="start-ui" aria-hidden="true">
          <div class="start-title">
            Dodge the <span class="blocks-word">Blocks</span>
          </div>

          <div class="start-sub">
            Choose difficulty, then press Enter / Space to start
          </div>

          <button id="startBtn" class="start-btn" type="button">
            <span class="start-btn__text">Start</span>
            <span class="start-btn__shine" aria-hidden="true"></span>
          </button>
        </div>

        <!-- GAME OVER OVERLAY -->
        <div id="gameOverUi" class="gameover-ui" aria-hidden="true">
          <div class="gameover-title">Game Over</div>

          <div class="gameover-stats">
            <div class="stat">
              <div class="stat__label">Score</div>
              <div class="stat__value" id="finalScore">0</div>
            </div>
            <div class="stat">
              <div class="stat__label">Best</div>
              <div class="stat__value" id="finalBest">0</div>
            </div>
            <div class="stat">
              <div class="stat__label">Run Stars</div>
              <div class="stat__value" id="finalRunStars">0</div>
            </div>
            <div class="stat">
              <div class="stat__label">Wallet</div>
              <div class="stat__value" id="finalWalletStars">0</div>
            </div>
          </div>

          <div class="gameover-actions">
            <button id="restartBtn" class="ui-btn ui-btn--primary" type="button">Restart</button>
            <button id="backBtn" class="ui-btn" type="button">Back to Start</button>
          </div>

          <div class="gameover-hint">
            Press <b>R</b> to restart â€¢ Press <b>Enter</b> / <b>Space</b> to start
          </div>
        </div>
      </section>
    </main>

    <!-- RIGHT: Loadout panel -->
    <aside class="side-panel" aria-label="Loadout panel">
      <h2>Loadout</h2>

      <label for="characterSelect">Character</label>
      <select id="characterSelect" aria-label="Character"></select>

      <label for="colourSelect" class="mt-12">Colour (standard)</label>
      <select id="colourSelect" aria-label="Colour">
        <option value="red">Red</option>
        <option value="orange">Orange</option>
        <option value="yellow">Yellow</option>
        <option value="green">Green</option>
        <option value="blue" selected>Blue</option>
        <option value="purple">Purple</option>
        <option value="pink">Pink</option>
      </select>

      <div class="shop-row" aria-label="Shop">
        <div class="shop-meta">
          <div class="shop-name" id="shopName">â€”</div>
          <div class="shop-cost" id="shopCost">â€”</div>
        </div>
        <button id="buyBtn" class="ui-btn ui-btn--shop" type="button">Buy</button>
      </div>

      <div class="shop-note" id="shopNote"></div>

      <div class="preview-wrap">
        <p class="preview-title">Preview</p>
        <canvas id="preview" width="120" height="120"></canvas>
      </div>

      <div class="hint">(No square option â€” youâ€™re dodging the squares ðŸ˜ˆ)</div>

      <!-- FULLSCREEN BOX (bottom-right) -->
      <div class="fs-box" aria-label="Fullscreen">
        <button id="fsBtn" class="ui-btn ui-btn--fs" type="button">Fullscreen</button>
        <div class="fs-hint">Press <b>Esc</b> to exit</div>
      </div>
    </aside>
  </div>

  <!-- âœ… IMPORTANT: split JS entrypoint -->
  <script type="module" src="js/main.js"></script>
</body>
</html>
